{
	"id":"com.moimz.imodule.core",
	"title":"iModule",
	"version":"3.0.0",
	"language":"ko",
	"dependencies":{
		"php":"5.3.3",
		"mysql":"5.0.0",
		"curl":"*",
		"zip":"*",
		"mbstring":"*",
		"gd":"*",
		"encrypt":"*"
	},
	"requirements":{
		"modules/admin":"3.0.0",
		"modules/attachment":"3.0.0",
		"modules/email":"3.0.0",
		"modules/keyword":"3.0.0",
		"modules/member":"3.0.0",
		"modules/push":"3.0.0",
		"modules/wysiwyg":"3.0.0"
	},
	"directories":{
		"attachments":"0707",
		"cache":"0707",
		"configs":"0707"
	},
	"configs":["key","db"],
	"preset":"iModule",
	"databases":{
		"cron_table":{
			"columns":{
				"host":{
					"type":"varchar",
					"length":100,
					"comment":"자동화작업 대상 사이트 도메인"
				},
				"module":{
					"type":"varchar",
					"length":20,
					"comment":"자동화작업 대상 모듈"
				},
				"type":{
					"type":"enum",
					"length":"'HOURLY','DAILY','WEEKLY','MONTHLY'",
					"default":"DAILY",
					"comment":"반복일정"
				},
				"date":{
					"type":"date",
					"comment":"최근 자동화작업 실행일자"
				},
				"hour":{
					"type":"int",
					"length":2,
					"default":0,
					"comment":"최근 자동화작업 실행시각(반복주기가 HOURLY 인 경우)"
				},
				"result":{
					"type":"longtext",
					"comment":"자동화작업 결과"
				},
				"start_date":{
					"type":"int",
					"length":11,
					"comment":"최근 자동화작업 시작일시"
				},
				"end_date":{
					"type":"int",
					"length":11,
					"comment":"최근 자동화작업 종료일시"
				},
				"runtime":{
					"type":"double",
					"comment":"최근 자동화작업 실행시간"
				}
			},
			"indexes":{
				"host,module,type,date,hour":"primary_key"
			},
			"comment":"아이모듈 자동화작업 테이블"
		},
		"module_table":{
			"columns":{
				"module":{
					"type":"varchar",
					"length":20,
					"comment":"모듈명"
				},
				"version":{
					"type":"varchar",
					"length":20,
					"comment":"현재버전"
				},
				"previous":{
					"type":"varchar",
					"length":20,
					"is_null":true,
					"comment":"이전버전"
				},
				"hash":{
					"type":"char",
					"length":32,
					"comment":"패키지 고유값"
				},
				"database":{
					"type":"varchar",
					"length":20,
					"default":"default",
					"comment":"모듈 데이터베이스 코드"
				},
				"db_size":{
					"type":"bigint",
					"length":15,
					"default":0,
					"comment":"모듈이 사용중인 데이터베이스 용량"
				},
				"attachment_size":{
					"type":"bigint",
					"length":15,
					"default":0,
					"comment":"모듈이 사용중인 첨부파일 용량"
				},
				"is_admin":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"관리자패널 사용여부"
				},
				"is_context":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"TRUE",
					"comment":"컨텍스트 사용여부"
				},
				"is_global":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"광역모듈 여부"
				},
				"is_widget":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"위젯기능 포함여부"
				},
				"is_templet":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"사이트템플릿 포함여부"
				},
				"is_external":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"외부파일 포함여부"
				},
				"is_sitemap":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"사이트맵구성 여부"
				},
				"is_cron":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"자동화작업 여부"
				},
				"configs":{
					"type":"text",
					"comment":"모듈설정"
				},
				"targets":{
					"type":"text",
					"comment":"이벤트리스너설정"
				},
				"sort":{
					"type":"int",
					"length":11,
					"default":0,
					"comment":"정렬"
				}
			},
			"indexes":{
				"module":"primary_key"
			},
			"comment":"아이모듈 모듈관리 테이블"
		},
		"plugin_table":{
			"columns":{
				"plugin":{
					"type":"varchar",
					"length":20,
					"comment":"플러그인명"
				},
				"version":{
					"type":"varchar",
					"length":20,
					"comment":"현재버전"
				},
				"hash":{
					"type":"char",
					"length":32,
					"comment":"패키지 고유값"
				},
				"database":{
					"type":"varchar",
					"length":20,
					"default":"default",
					"comment":"플러그인 데이터베이스 코드"
				},
				"db_size":{
					"type":"bigint",
					"length":15,
					"default":0,
					"comment":"플러그인 데이터베이스 사용용량"
				},
				"is_admin":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"관리자패널 여부"
				},
				"is_active":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"TRUE",
					"comment":"활성화 여부"
				},
				"configs":{
					"type":"text",
					"comment":"플러그인설정"
				},
				"targets":{
					"type":"text",
					"comment":"이벤트리스너설정"
				},
				"sort":{
					"type":"int",
					"length":11,
					"default":0,
					"comment":"정렬"
				}
			},
			"indexes":{
				"plugin":"primary_key"
			},
			"comment":"아이모듈 플러그인관리 테이블"
		},
		"sitemap_table":{
			"columns":{
				"domain":{
					"type":"varchar",
					"length":100,
					"comment":"도메인명"
				},
				"language":{
					"type":"char",
					"length":2,
					"comment":"언어셋"
				},
				"menu":{
					"type":"varchar",
					"length":20,
					"comment":"메뉴코드"
				},
				"page":{
					"type":"varchar",
					"length":20,
					"default":"",
					"comment":"페이지코드"
				},
				"title":{
					"type":"varchar",
					"length":100,
					"default":"",
					"comment":"제목"
				},
				"icon":{
					"type":"varchar",
					"length":100,
					"is_null":true,
					"comment":"아이콘"
				},
				"type":{
					"type":"enum",
					"length":"'PAGE','EXTERNAL','WIDGET','MODULE','HTML','LINK','EMPTY','GROUPSTART','GROUPEND'",
					"default":"EMPTY",
					"comment":"종류"
				},
				"layout":{
					"type":"varchar",
					"length":20,
					"comment":"레이아웃명"
				},
				"description":{
					"type":"text",
					"is_null":true,
					"comment":"페이지설명"
				},
				"image":{
					"type":"int",
					"length":11,
					"default":0,
					"comment":"대표이미지"
				},
				"header":{
					"type":"longtext",
					"is_null":true,
					"comment":"페이지 상단내용"
				},
				"footer":{
					"type":"longtext",
					"is_null":true,
					"comment":"페이지 하단내용"
				},
				"context":{
					"type":"text",
					"comment":"컨텍스트 설정"
				},
				"permission":{
					"type":"varchar",
					"length":255,
					"default":"true",
					"comment":"권힌"
				},
				"is_footer":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"사이트하단메뉴 추가여부"
				},
				"is_hide":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"숨김메뉴여부"
				},
				"sort":{
					"type":"int",
					"length":11,
					"default":0,
					"comment":"정렬"
				}
			},
			"indexes":{
				"domain,language,menu,page":"primary_key"
			},
			"comment":"아이모듈 사이트맵 관리 테이블"
		},
		"site_table":{
			"columns":{
				"domain":{
					"type":"varchar",
					"length":100,
					"comment":"도메인명"
				},
				"language":{
					"type":"char",
					"length":2,
					"comment":"언어셋"
				},
				"title":{
					"type":"varchar",
					"length":100,
					"comment":"사이트명"
				},
				"alias":{
					"type":"text",
					"is_null":true,
					"comment":"유사도메인"
				},
				"description":{
					"type":"text",
					"is_null":true,
					"comment":"사이트설명"
				},
				"templet":{
					"type":"varchar",
					"length":20,
					"default":"default",
					"comment":"템플릿명"
				},
				"templet_configs":{
					"type":"text",
					"is_null":true,
					"comment":"템플릿설정"
				},
				"image":{
					"type":"int",
					"length":11,
					"default":-1,
					"comment":"대표이미지"
				},
				"logo":{
					"type":"varchar",
					"length":150,
					"default":"{\"default\":-1,\"footer\":-1}",
					"comment":"로고이미지"
				},
				"emblem":{
					"type":"int",
					"length":11,
					"default":-1,
					"comment":"엠블럼이미지"
				},
				"favicon":{
					"type":"int",
					"length":11,
					"default":-1,
					"comment":"패비콘이미지"
				},
				"member":{
					"type":"enum",
					"length":"'UNIQUE','UNIVERSAL'",
					"default":"UNIVERSAL",
					"comment":"회원관리방식"
				},
				"is_https":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"HTTPS접속여부"
				},
				"is_default":{
					"type":"enum",
					"length":"'TRUE','FALSE'",
					"default":"FALSE",
					"comment":"기본언어사이트 여부"
				},
				"sort":{
					"type":"int",
					"length":11,
					"default":0,
					"comment":"정렬"
				}
			},
			"indexes":{
				"domain,language":"primary_key"
			},
			"comment":"아이모듈 사이트 관리 테이블"
		}
	}
}